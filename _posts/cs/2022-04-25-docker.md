---
layout: post
title: docker
author: An Hyungjun
categories: [docker]
tags: [infra, docker, summary]
---

docker 사용 방법을 정리한다

# 용어 정리

## 시스템 기반
- 정의: 어플리케이션 사용자가 상시 이용할 수 있는 환경을 제공하는 기술 요소
- 요구사항에 의한 구분
	- 기능 요구사항: 어플리케이션의 목적
	- 비기능 요구사항: 시스템 성능, 신뢰성, 확장성, 유지보수성, 보안 등에 관련
- 주요 구성 요소: 하드웨어, 네트워크, 운영체제, 미들웨어

## 데이터센터
- 시스템 기반의 구성요소를 제공하는 시설
- 분류
	- IDC(Internet Data Center)
	- CDC(Cloud Data Center)

## 클라우드 컴퓨팅
- 원격 컴퓨터의 자원을 활용하는 기술
- 언제, 어디서나
- 사용한 만큼 비용을 지불함

## 인프라 구성 방식
- On-Premises: 시스템 기반을 직접 구축, 운용
- Public Cloud: 불특정 다수에게 제공하는 클라우드 서비스
- Private Cloud: 특정 대상에게 제공하는 클라우드 서비스

## 클라우드 서비스 유형
- IaaS(Infrastructure as a Service): 서버, OS, 네트워크, 저장소 등을 제공
- PaaS(Platform as a Service): 소프트웨어 개발 및 운영 환경을 제공
- SaaS(Software as a Service): 소프트웨어까지 제공(ex. google docs)

## 서버 가상화
- 가상 머신을 생성하는 기술
- 호스트로부터 시스템 자원을 할당받음
- 자원 분배를 위한 파티셔닝 기술이 필요

## 하이퍼바이저(Hypervisor)
- 서버 가상화에서 파티셔닝을 지원하기 위한 소프트웨어
- 가상 머신의 리소스 할당 및 관리를 지원하며 리소스간 접근을 방지(격리)함
- 종류
	- Type 1 (Native / Bare-metal): 하드웨어에서 직접 하이퍼바이저가 실행됨
	- Type 2 (Hosted): 운영체제에서 하이퍼바이저를 실행

## SELinux(Security-Enhanced Linux)
- 기본 권한 관리 방식(DAC)의 취약 요소를 해결함
- 개체 기반으로 규칙을 제어함(MAC)
- 설정
	- disabled: SELinux 동작 안 함(커널 모듈 로드 X)
	- enforcing: SELinux 커널 모듈 로드됨
	- permissive: 
```bash
# 설정값 확인
$ getenforce

# 기본값 설정(Disable <-> enforcing, permissive 전환 시 reboot 필요)
$ vi /etc/selinux/config

# 일시적 설정(부팅 후엔 cofig 따라 감)
$ setenforce 0
$ setenforce 1
$ setenforce disabled
$ setenforce enforcing
$ setenforce permissive
```

## netfilter
- 네트워크 패킷 처리 기능을 담당하는 Linux 커널 모듈
- 기능
	- NAT(Network Address Translation): 사설 네트워크에서 주소 및 포트 변환
	- Packet Filtering: 패킷 허용 및 차단
	- Packet Mangling: 패킷 통과시 헤더 변경

## iptables
- Linux의 방화벽 제어 기능

# 클라우드 서비스

## 한계점
- 아주 높은 가용성(ex. 완벽한 무중단)을 보장해주지는 못 함
- 데이터 저장 위치를 특정할 수 없음
- 특수 디바이스, 특수 플랫폼에 대해서는 지원 불가
- 비용이 항상 저렴하다고 볼 수는 없음



